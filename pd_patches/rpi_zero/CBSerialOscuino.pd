#N canvas 376 23 667 851 10;
#X obj -34 326 route /a0;
#X obj 624 -113 loadbang;
#X obj 624 -83 del 500;
#X obj 477 216 s osc;
#X obj -34 301 r osc;
#X obj 37 301 r osc;
#X obj 37 326 route /a1;
#X obj 110 301 r osc;
#X obj 110 326 route /a2;
#X obj 185 301 r osc;
#X obj 256 301 r osc;
#X obj 329 301 r osc;
#X obj 185 326 route /a3;
#X obj 256 326 route /a4;
#X obj 329 326 route /a5;
#X text -37 277 # ANALOG INPUTS;
#X obj 431 -100 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1
0 1;
#X obj 468 -12 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 1225 -44 r link_step;
#X obj 1305 -42 r link_reset;
#X obj 477 14 del 50;
#X obj 477 96 packOSC;
#X obj 477 178 pd-mrpeach/osc/unpackOSC;
#N canvas 391 51 1019 757 link 0;
#X msg 365 141 tempo \$1;
#X msg 154 142 resolution \$1;
#X msg 257 162 reset \$1 \$2;
#X obj 257 141 pack f f;
#X floatatom 264 260 5 0 0 1 beat_time - -, f 5;
#X floatatom 227 278 5 0 0 1 phase - -, f 5;
#X msg 21 185 \; pd dsp 1;
#X floatatom 190 300 5 0 0 1 step - -, f 5;
#X floatatom 301 239 5 0 0 1 tempo - -, f 5;
#X obj 77 122 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 190 214 abl_link~ 1 0 4 134;
#X floatatom 365 122 5 0 0 2 tempo - -, f 5;
#X floatatom 302 122 5 0 0 2 quantum - -, f 5;
#X floatatom 257 122 5 0 0 2 beat - -, f 5;
#X floatatom 154 122 5 0 0 2 resolution - -, f 5;
#X msg 77 142 connect \$1;
#X floatatom 370 205 5 0 0 0 - - -, f 5;
#X obj 370 183 r #abl_link_num_peers;
#X obj 71 12 loadbang;
#X obj 72 36 delay 1000;
#X msg 137 76 4;
#X obj 152 323 s link_step;
#X text 349 11 connect to ableton link;
#X text 161 76 resolution = how many clicks per beat (4 = 16th notes)
;
#X text 226 324 send the step number (and a bang) on each division
;
#X text 17 220 dsp required;
#X text 139 36 let things settle first;
#X obj 41 366 sel 0;
#X obj 46 396 s link_reset;
#X connect 0 0 10 0;
#X connect 1 0 10 0;
#X connect 2 0 10 0;
#X connect 3 0 2 0;
#X connect 9 0 15 0;
#X connect 10 0 7 0;
#X connect 10 0 21 0;
#X connect 10 0 27 0;
#X connect 10 1 5 0;
#X connect 10 2 4 0;
#X connect 10 3 8 0;
#X connect 11 0 0 0;
#X connect 12 0 3 1;
#X connect 13 0 3 0;
#X connect 14 0 1 0;
#X connect 15 0 10 0;
#X connect 17 0 16 0;
#X connect 18 0 19 0;
#X connect 19 0 9 0;
#X connect 19 0 20 0;
#X connect 19 0 6 0;
#X connect 20 0 14 0;
#X connect 27 0 28 0;
#X restore 1220 -74 pd link;
#X msg 624 -42 devicename /dev/ttyACM0 \, baud 115200 \, pollintervall
4 \, verbose 1;
#N canvas 0 22 947 692 4leds 0;
#X obj 100 210 dec_to_binary;
#X floatatom 104 76 5 0 15 0 - - -, f 5;
#X obj 100 240 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 130 240 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 163 240 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 192 240 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 102 281 wiringPi pin 23 output;
#X obj 127 312 wiringPi pin 18 output;
#X obj 163 343 wiringPi pin 15 output;
#X obj 201 377 wiringPi pin 14 output;
#X obj 87 39 inlet;
#X text 138 29 send a number in the inlet and the 4 leds will display
that in 4 bit binary (0-15);
#X connect 0 0 2 0;
#X connect 0 1 3 0;
#X connect 0 2 4 0;
#X connect 0 3 5 0;
#X connect 2 0 6 0;
#X connect 3 0 7 0;
#X connect 4 0 8 0;
#X connect 5 0 9 0;
#X connect 10 0 0 0;
#X connect 10 0 1 0;
#X restore 1225 -11 pd 4leds;
#X text 1386 -44 bang on step 0;
#N canvas 0 22 450 300 load_stuff 0;
#X obj 10 34 pdwiringPi/pdwiringPi/wiringPi;
#X text 4 9 load stuff;
#X obj 10 58 pd-mrpeach/osc/unpackOSC;
#X obj 10 82 pd-mrpeach/osc/packOSC;
#X obj 10 106 comport-0.2/comport;
#X obj 10 130 abl_link/external/abl_link~;
#X restore -27 -106 pd load_stuff;
#X text 632 -59 arduino on raspberry pi zero;
#X text 963 66 arduino on macOS laptop (for dev);
#X obj 431 -73 metro 200;
#X text 493 195 this is where we get all the incoming OSC;
#X text 285 120 send serial messages to arduino;
#X text 1217 -101 ableton link stuff;
#X text 259 155 receive serial messages from arduino;
#X msg 961 84 devicename /dev/cu.usbmodemFA131 \, baud 115200 \, pollintervall
4 \, verbose 1;
#X obj 875 135 o.io.slipserial;
#X obj 483 136 o.io.slipserial;
#X text 974 135 for mac (dev);
#X text 877 81 # THIS IS FOR TESTING ON MAC, f 11;
#X floatatom -1 390 5 0 0 0 - - -, f 5;
#X floatatom 163 140 5 0 0 0 - - -, f 5;
#X obj 366 436 dumpOSC;
#X obj 112 -59 unpackOSC;
#X obj 113 -94 mac_externals/mrpeach/udpreceive 3003;
#X obj 111 -26 print;
#X msg 431 -45 /13 1;
#X msg 477 55 /13 0;
#X connect 0 0 40 0;
#X connect 1 0 2 0;
#X connect 2 0 24 0;
#X connect 4 0 0 0;
#X connect 5 0 6 0;
#X connect 7 0 8 0;
#X connect 9 0 12 0;
#X connect 10 0 13 0;
#X connect 11 0 14 0;
#X connect 16 0 30 0;
#X connect 17 0 20 0;
#X connect 18 0 25 0;
#X connect 20 0 47 0;
#X connect 21 0 37 0;
#X connect 21 0 36 0;
#X connect 22 0 3 0;
#X connect 24 0 37 1;
#X connect 30 0 46 0;
#X connect 35 0 36 1;
#X connect 36 0 22 0;
#X connect 37 0 22 0;
#X connect 43 0 45 0;
#X connect 44 0 43 0;
#X connect 46 0 21 0;
#X connect 46 0 17 0;
#X connect 47 0 21 0;
